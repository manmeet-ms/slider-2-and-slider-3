<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Circular Path Sequential Image Reveal</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      min-height: 300vh;
      background: linear-gradient(145deg, #fff5f5, #f0fff4);
      overflow-x: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .container {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 300px;
      height: 300px;
    }

    .icon-wrapper {
      position: absolute;
      width: 60px;
      height: 60px;
    }

    .icon {
      position: absolute;
      width: 100%;
      height: 100%;
      background: white;
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      z-index: 10;
    }

    .image-container {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 400px;
      height: 300px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .image-reveal {
      position: absolute;
      width: 100%;
      max-width: 350px;
      height: 250px;
      object-fit: cover;
      opacity: 0;
      transition: opacity 0.5s ease;
      border-radius: 16px;
      box-shadow: 0 12px 36px rgba(0, 0, 0, 0.2);
    }

    .icon:nth-child(1) { background: #FFF9E6; }
    .icon:nth-child(2) { background: #E6FFE6; }
    .icon:nth-child(3) { background: #FFE6F0; }
    .icon:nth-child(4) { background: #E6F0FF; }
    .icon:nth-child(5) { background: #F0E6FF; }
  </style>
</head>
<body>
  <div class="container">
    <div class="icon-wrapper">
      <div class="icon" data-index="1">1</div>
    </div>
    <div class="icon-wrapper">
      <div class="icon" data-index="2">2</div>
    </div>
    <div class="icon-wrapper">
      <div class="icon" data-index="3">3</div>
    </div>
    <div class="icon-wrapper">
      <div class="icon" data-index="4">4</div>
    </div>
    <div class="icon-wrapper">
      <div class="icon" data-index="5">5</div>
    </div>
    <div class="icon-wrapper">
      <div class="icon" data-index="6">6</div>
    </div>
    <div class="icon-wrapper">
      <div class="icon" data-index="7">7</div>
    </div>
    <div class="icon-wrapper">
      <div class="icon" data-index="8">8</div>
    </div>
  </div>

  <div class="image-container">
    
    
    
    
    
    
    
    
    <img src="https://placehold.co/111x111" alt="Image 1" class="image-reveal" data-index="1">
    <img src="https://placehold.co/222x222" alt="Image 2" class="image-reveal" data-index="2">
    <img src="https://placehold.co/333x333" alt="Image 3" class="image-reveal" data-index="3">
    <img src="https://placehold.co/444x444" alt="Image 4" class="image-reveal" data-index="4">
    <img src="https://placehold.co/555x555" alt="Image 5" class="image-reveal" data-index="5">
    <img src="https://placehold.co/666x666" alt="Image 6" class="image-reveal" data-index="6">
    <img src="https://placehold.co/777x777" alt="Image 7" class="image-reveal" data-index="7">
    <img src="https://placehold.co/888x888" alt="Image 8" class="image-reveal" data-index="8">
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <script>
    gsap.registerPlugin(ScrollTrigger);

    const iconWrappers = document.querySelectorAll('.icon-wrapper');
    const icons = document.querySelectorAll('.icon');
    const images = document.querySelectorAll('.image-reveal');
    const radius = 150; // Reduced radius for better fit
    const totalIcons = icons.length;

    // Hide all images initially
    gsap.set(images, { opacity: 0 });

    function setIconPositions(progress) {
      iconWrappers.forEach((wrapper, index) => {
        const angle = (index / totalIcons) * Math.PI * 2 + (progress * Math.PI * 2);
        const x = Math.cos(angle) * radius;
        const y = Math.sin(angle) * radius;

        gsap.set(wrapper, {
          x: x,
          y: y,
          rotation: (angle * (180 / Math.PI)) + 90,
        });
      });
    }

    setIconPositions(0);

    gsap.to({}, {
      scrollTrigger: {
        trigger: "body",
        start: "top top",
        end: "bottom bottom",
        scrub: 1,
        onUpdate: (self) => {
          setIconPositions(self.progress);

          // Find the "focused" icon and reveal the corresponding image
          let closestIndex = -1;
          let minDistance = Infinity;

          icons.forEach((icon, index) => {
            const rect = icon.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            const distanceToCenter = Math.sqrt((window.innerWidth / 2 - centerX)**2 + (window.innerHeight/2 - centerY)**2);
            
            if (distanceToCenter < minDistance) {
              minDistance = distanceToCenter;
              closestIndex = index;
            }
          });
          
          if (closestIndex !== -1) {
            gsap.to(images, {opacity: 0, duration: 0.3}); // Hide all first
            gsap.to(images[closestIndex], { opacity: 1, duration: 0.3 }); // Show the focused image
          }
        }
      }
    });

    gsap.from(icons, {
      scale: 0,
      opacity: 0,
      duration: 1,
      stagger: 0.1,
      ease: 'back.out(1.7)'
    });

        icons.forEach(icon => {
            icon.addEventListener('mouseenter', () => {
                gsap.to(icon, { scale: 1.1, duration: 0.3, ease: 'back.out' });
            });
            icon.addEventListener('mouseleave', () => {
                gsap.to(icon, { scale: 1, duration: 0.3, ease: 'back.out' });
            });
        });
  </script>
</body>
</html>